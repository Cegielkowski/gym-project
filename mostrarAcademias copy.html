<!doctype html>
<html lang="en">
  <head>
    <title>Gym Project</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,700,800" rel="stylesheet">

    <link rel="stylesheet" href="css/bootstrap.css">
    <link rel="stylesheet" href="css/animate.css">
    <link rel="stylesheet" href="css/owl.carousel.min.css">

    <link rel="stylesheet" href="css/magnific-popup.css">


    <link rel="stylesheet" href="fonts/ionicons/css/ionicons.min.css">
    <link rel="stylesheet" href="fonts/fontawesome/css/font-awesome.min.css">
    <script type="text/javascript" src="js/jquery.ajax-cross-origin.min.js"></script>

    <!-- Theme Style -->
    <link rel="stylesheet" href="css/style.css">
  </head>
  <body>
    
    <header role="banner">
      <nav class="navbar navbar-expand-md navbar-dark bg-dark">
        <div class="container">
          <a  style="color: black" class="navbar-brand" href="index.html">Gym proje<span>ct</span></a>
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExample05" aria-controls="navbarsExample05" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>

            <ul class="navbar-nav ml-auto">
              <li class="nav-item cta-btn">
                <a class="nav-link" href="member.html">Seja um membro</a>
              </li>
            </ul>
            
          </div>
        </div>
      </nav>
    </header>

 

    <section class="section bg-light element-animate">

      <div class="clearfix mb-5 pb-5">
        <div class="container-fluid">
          <div class="row">
            <div class="col-md-12 text-center heading-wrap">
              <h2>Nossas Academias</h2>
            </div>
          </div>
        </div>
      </div>

     
      <div class="container">
        <div>
          <input type="text" class="input" id="input"><button onclick="RenderSearch()" class="btn btn-primary btn-sm">Search Academy By ID</button>
          <br>
        </div>
        <div class="row no-gutters" id="academias">
        </div>
      </div>


    <footer class="site-footer" role="contentinfo">
      <div class="container">
        <div class="row mb-5">
          <div class="col-md-5 mb-6">
            <h3>About Us</h3>
            <p class="mb-5">We are young, wild and free.</p>
            <ul class="list-unstyled footer-link d-flex footer-social">
              <li><a href="https://github.com/cegielkowski" class="p-2"><span class="fa fa-github"></span></a></li>
              <li><a href="https://www.linkedin.com/in/cegielkowski/" class="p-2"><span class="fa fa-linkedin"></span></a></li>
            </ul>

          </div>
          <div class="col-md-7 mb-6">
            <h3>Contact Info</h3>
            <ul class="list-unstyled footer-link">
              <li class="d-block">
                <span class="d-block">Address:</span>
                <span class="text-white">Universidade Estadual Paulista - Bauru - SP</span></li>
              <li class="d-block"><span class="d-block">Telephone:</span><span class="text-white">+55 4002 8922</span></li>
              <li class="d-block"><span class="d-block">Email:</span><span class="text-white">avenger_developers@assemble.com</span></li>
            </ul>
          </div>
        </div>
        <div class="row">
          <div class="col-12 text-md-center text-left">
            <p>&copy; <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
Copyright &copy;<script>document.write(new Date().getFullYear());</script> All rights reserved | This template is made with <i class="fa fa-heart-o" aria-hidden="true"></i> by <a href="https://google.com" target="_blank">Us</a>
<!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. --></p>
          </div>
        </div>
      </div>
    </footer>
    <!-- END footer -->

    <!-- loader -->
    <div id="loader" class="show fullscreen"><svg class="circular" width="48px" height="48px"><circle class="path-bg" cx="24" cy="24" r="22" fill="none" stroke-width="4" stroke="#eeeeee"/><circle class="path" cx="24" cy="24" r="22" fill="none" stroke-width="4" stroke-miterlimit="10" stroke="#f4b214"/></svg></div>

    <script src="js/jquery-3.2.1.min.js"></script>
    <script src="js/popper.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/owl.carousel.min.js"></script>
    <script src="js/jquery.waypoints.min.js"></script>

    <script src="js/jquery.magnific-popup.min.js"></script>
    <script src="js/magnific-popup-options.js"></script>
    

    <script src="js/main.js"></script>

    <script>
      $(document).ready(function(){
        var settings = {
        "url": "http://localhost:8080/mostrarAcademias",
        "method": "GET",
        "timeout": 0,
        };

        $.ajax(settings).done(function (response) {
        console.log(response  )
        RenderResult(response);
        });
      });

      function RenderResult(response) {
        console.log(response);
        response = JSON.parse(response);
        var htmlToRender = '';
        for (var i = 0; i < response.length; i++){
          console.log(response.length)

          htmlToRender += '<div class="card">' +
            '<div>' +
            '<h3>'  +  response[i].nome + '</h3>' +
            '<p> Endere√ßo: ' + response[i].rua +" "+ response[i].numero +" "+ response[i].cidade +" "+response[i].estado +  ' </p>' +
            '<br><p> Telefone: ' + response[i].telefone+ '</p>' +
            '<br><p> Email: ' + response[i].email+ '</p>' +
          '</p><p><a href="#" class="btn btn-primary btn-sm">Get in touch</a></p></div></div>'+
          '<br>';
        };

        $('#academias').html(htmlToRender);
      }        

      function RenderSearch () {
       var id = document.getElementById("input").value

        var settings = {
        "url": "http://localhost:8080/buscaAcademia?id_academia="+id+"",
        "method": "GET",
        "timeout": 0,
        };

        $.ajax(settings).done(function (search) {
        console.log(search)
        RenderResult(search);
        });
      }      
  </script>
  </body>
</html>