<!doctype html>
<html lang="en">
  <head>
    <title>Gym Project</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,700,800" rel="stylesheet">

    <link rel="stylesheet" href="css/bootstrap.css">
    <link rel="stylesheet" href="css/animate.css">
    <link rel="stylesheet" href="css/owl.carousel.min.css">

    <link rel="stylesheet" href="css/magnific-popup.css">


    <link rel="stylesheet" href="fonts/ionicons/css/ionicons.min.css">
    <link rel="stylesheet" href="fonts/fontawesome/css/font-awesome.min.css">
    <script type="text/javascript" src="js/jquery.ajax-cross-origin.min.js"></script>

    <!-- Theme Style -->
    <link rel="stylesheet" href="css/style.css">
  </head>
  <body>
    
    <header role="banner">
      <nav class="navbar navbar-expand-md navbar-dark bg-dark">
        <div class="container">
          <a  style="color: black" class="navbar-brand" href="index.html">Gym proje<span>ct</span></a>
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExample05" aria-controls="navbarsExample05" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>

            <ul class="navbar-nav ml-auto">
              <li class="nav-item cta-btn">
                <a class="nav-link" href="member.html">Seja um membro</a>
              </li>
            </ul>
            
          </div>
        </div>
      </nav>
    </header>

 

    <section class="section bg-light element-animate">

      <div class="clearfix mb-5 pb-5">
        <div class="container-fluid">
          <div class="row">
            <div class="col-md-12 text-center heading-wrap">
              <h2>Alunos da Academia Gym Project</h2>
            </div>
          </div>
        </div>
      </div>

      <div class="container">
        <div>
            <input type="text" class="input" id="input_id"><input type="text" class="input" id="input_type"><button onclick="RenderSearch()" class="btn btn-primary btn-sm">Search User By ID</button>
             <br>
        </div>
        <div class="row no-gutters" id="alunos">
        </div>
      </div>


    <footer class="site-footer" role="contentinfo">
      <div class="container">
        <div class="row mb-5">
          <div class="col-md-5 mb-6">
            <h3>About Us</h3>
            <p class="mb-5">We are young, wild and free.</p>
            <ul class="list-unstyled footer-link d-flex footer-social">
              <li><a href="https://github.com/cegielkowski" class="p-2"><span class="fa fa-github"></span></a></li>
              <li><a href="https://www.linkedin.com/in/cegielkowski/" class="p-2"><span class="fa fa-linkedin"></span></a></li>
            </ul>

          </div>
          <div class="col-md-7 mb-6">
            <h3>Contact Info</h3>
            <ul class="list-unstyled footer-link">
              <li class="d-block">
                <span class="d-block">Address:</span>
                <span class="text-white">Universidade Estadual Paulista - Bauru - SP</span></li>
              <li class="d-block"><span class="d-block">Telephone:</span><span class="text-white">+55 4002 8922</span></li>
              <li class="d-block"><span class="d-block">Email:</span><span class="text-white">avenger_developers@assemble.com</span></li>
            </ul>
          </div>
        </div>
        <div class="row">
          <div class="col-12 text-md-center text-left">
            <p>&copy; <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
Copyright &copy;<script>document.write(new Date().getFullYear());</script> All rights reserved | This template is made with <i class="fa fa-heart-o" aria-hidden="true"></i> by <a href="https://google.com" target="_blank">Us</a>
<!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. --></p>
          </div>
        </div>
      </div>
    </footer>
    <!-- END footer -->

    <!-- loader -->
    <div id="loader" class="show fullscreen"><svg class="circular" width="48px" height="48px"><circle class="path-bg" cx="24" cy="24" r="22" fill="none" stroke-width="4" stroke="#eeeeee"/><circle class="path" cx="24" cy="24" r="22" fill="none" stroke-width="4" stroke-miterlimit="10" stroke="#f4b214"/></svg></div>

    <script src="js/jquery-3.2.1.min.js"></script>
    <script src="js/popper.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/owl.carousel.min.js"></script>
    <script src="js/jquery.waypoints.min.js"></script>

    <script src="js/jquery.magnific-popup.min.js"></script>
    <script src="js/magnific-popup-options.js"></script>
    

    <script src="js/main.js"></script>

    <script>
      $(document).ready(function(){
        var settings = {
        "url": "http://localhost:8080/buscaAlunos",
        "method": "GET",
        "timeout": 0,
        };

        $.ajax(settings).done(function (response) {
        RenderResult(response);
        });
      });

      function RenderResult(response) {
        console.log(response);
        response = JSON.parse(response);
        var htmlToRender = '';
        for (var i = 0; i < response.length; i++){
          console.log(response[i].nome)

          htmlToRender += '<div class="card">' +
            '<div>' +
            '<h3>'  +  response[i].nome.toString() +" "+ response[i].sobrenome.toString() + '</h3>' +
            '<br><p> Objetivo: ' + response[i].objetivo.toString()+ '</p>' +
            '<br><p> Altura: ' + response[i].altura.toString() + '</p>' +
            '<br><p> Peso: ' + response[i].peso.toString()+ '</p>' +
            '<br><p> Braço direito: ' + response[i].med_braco_direito.toString()+ '</p>' +
            '<br><p> Braço esquerdo: ' + response[i].med_braco_esquerdo.toString()+ '</p>' +
            '<br><p> Perna direita: ' + response[i].med_perna_direita.toString()+ '</p>' +
            '<br><p> Perna esquerda: ' + response[i].med_perna_esquerda.toString()+ '</p>' +
            '<br><p> Peito: ' + response[i].med_peito.toString()+ '</p>' +
            '<br><p> Abdomen: ' + response[i].med_abdomen.toString()+ '</p>' +
          '</p><p><a href="#" class="btn btn-primary btn-sm">Get in touch</a></p></div></div>'+
          '<br>';
        };

        $('#alunos').html(htmlToRender);
      }


      function RenderSearch () {
        var id = document.getElementById("input_id").value
        var type = document.getElementById("input_type").value

        var settings = {
        "url": "http://localhost:8080/buscaUsuario?id_usuario="+id+"&tipo="+type+"",
        "method": "GET",
        "timeout": 0,
        };

        $.ajax(settings).done(function (search) {
            console.log(search)

            search = JSON.parse(search);
            var htmlToRender = '';
            for (var i = 0; i < search.length; i++){
            console.log(search.length)
                if (type == "aluno"){
                htmlToRender += '<div class="card">' +
                    '<div>' +
                    '<h3>'  +  search[i].nome.toString() +" "+ search[i].sobrenome.toString() + '</h3>' +
                    '<br><p> Objetivo: ' + search[i].objetivo.toString()+ '</p>' +
                    '<br><p> Altura: ' + search[i].altura.toString() + '</p>' +
                    '<br><p> Peso: ' + search[i].peso.toString()+ '</p>' +
                    '<br><p> Braço direito: ' + search[i].med_braco_direito.toString()+ '</p>' +
                    '<br><p> Braço esquerdo: ' + search[i].med_braco_esquerdo.toString()+ '</p>' +
                    '<br><p> Perna direita: ' + search[i].med_perna_direita.toString()+ '</p>' +
                    '<br><p> Perna esquerda: ' + search[i].med_perna_esquerda.toString()+ '</p>' +
                    '<br><p> Peito: ' + search[i].med_peito.toString()+ '</p>' +
                    '<br><p> Abdomen: ' + search[i].med_abdomen.toString()+ '</p>' +
                    '<br><p> Endereço: ' + search[i].rua.toString()+", "+search[i].numero.toString()+'</p>' +
                    '<br><p> ' + search[i].cidade.toString()+", "+search[i].estado.toString()+'</p>' +
                '</p><p><a href="#" class="btn btn-primary btn-sm">Get in touch</a></p></div></div>'+
                '<br>';
                }
                if (type == "personal"){
                    htmlToRender += '<div class="card">' +
                    '<div>' +
                    '<h3>'  +  search[i].nome.toString() +" "+ search[i].sobrenome.toString() + '</h3>' +
                    '<br><p> Email: ' + search[i].email.toString()+ '</p>' +
                    '<br><p> Telefone: ' + search[i].telefone.toString()+ '</p>' +
                    '<br><p> Especialização: ' + search[i].especializacao.toString()+ '</p>' +
                    '<br><p> Endereço: ' + search[i].rua.toString()+", "+search[i].numero.toString()+", "+search[i].cidade.toString()+", "+search[i].estado.toString()+'</p>' +
                '</p><p><a href="#" class="btn btn-primary btn-sm">Get in touch</a></p></div></div>'+
                '<br>';
                }
            };

            $('#alunos').html(htmlToRender);
        });

      }   

  </script>
  </body>
</html>